---
title: ASP.NET 紀錄特殊用法
date: 2023-02-09 16:36:36
tags:
categories:
  - ASP.NET
---

這篇紀錄一些特殊使用方式

<!--more-->

### C#
使用在儲存至資料表時，當欄位資料為空值，則回傳NULL
    ```
        public object CheckText(string text)
        {
            if (text == "")
                return DBNull.Value;
            return text;
        }
    ```
### 類別
    ```
        //檢查輸入的資料是否為整數
        //IsNumeric(判斷欄位)
        static bool IsNumeric(object Expression)
        {
            bool isNum;
            double retNum;
            isNum = Double.TryParse(Convert.ToString(Expression), System.Globalization.NumberStyles.Any, System.Globalization.NumberFormatInfo.InvariantInfo, out retNum);
            return isNum;
        }
        ```

        ```
        //找出字串裡面的特定字，取代成其他字 .Replace(原始字串,舊字串,新字串)
        //用法如下
        //string errsting = "This docment uses 3 other docments to docment the docmentation";
        //string correctstring = errstring.Replace("docment", "document");
        static string Replace(string originalStr, string repleasStr, string newStr)
        {
            int pos = originalStr.IndexOf(repleasStr);
            int len = repleasStr.Length;
            if (pos != -1)
            {
                string strLeft = originalStr.Substring(0, pos);
                string strRight = originalStr.Substring(pos + len);
                return strLeft + newStr + strRight;
            }
            else
            {
                return originalStr;
            }
        }
        ```

        ```
        public static string GetSHA256Hash(this string result_pwd, string sHA256source)
        {
            SHA256 SHA256Hasher = SHA256.Create();

            Byte[] data = SHA256Hasher.ComputeHash(Encoding.Default.GetBytes(sHA256source));

            Byte[] result;
            SHA256CryptoServiceProvider sha256SP = new SHA256CryptoServiceProvider();

            result = sha256SP.ComputeHash(data);

            StringBuilder strBuilder = new StringBuilder();

            for (int i = 0; i < data.Length; i++)
            {
                strBuilder.Append(data[i].ToString("x2"));
            }
            result_pwd = strBuilder.ToString();
            return result_pwd;
        }
    ```

